import React from "react"
import { useState } from "react"
import { Link, useLocation } from "react-router-dom"

function Header() {
  const [menu, setMenu] = useState(false)

  const { pathname } = useLocation()
  console.log(pathname)

  const NavLink = ({ text, href, hoverBorder, hoverText, activeStyle }) => {
    return (
      <Link
        to={href}
        onClick={() => setMenu(false)}
        // prettier-ignore
        className={`${pathname === href ? activeStyle : ''} block mb-1 sm:mb-0 mx-2 sm:mx-0 sm:ml-2 p-2 xl:p-3 text-md font-semibold md:text-lg lg:text-xl text-gray-800 ${hoverText} border-b-2 border-transparent shadow-sm hover:shadow-md ${hoverBorder}`}
      >
        {text}
      </Link>
    )
  }

  return (
    <div className="flex flex-col sm:flex-row sm:justify-between bg-gray-100 border-b">
      <div className="flex justify-between">
        <Link
          to="/"
          onClick={() => setMenu(false)}
          className="flex items-center text-gray-900 hover:text-gray-700"
        >
          <svg
            className="flex-none w-12 xl:w-16 m-2 xl:m-4 fill-current "
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path d="M200.73 111.904c120.822-98.394 239.104 20.953 263.613 89.713 19.66 55.154 38.444 121.546-23.798 214.152-62.242 92.607-108.934 38.14-114.416 1.93-5.446-35.975-12.815-81.031 40.274-140.84 53.09-59.808 64.988-27.01 68.65-18.328 3.661 8.682 10.984 73.314-22.883 101.288-33.867 27.975-24.4-22-24.4-22s14.488-38.49 2.589-35.596c-11.9 2.894-27.704 23.144-35.855 48.915-9.153 28.94-9.153 67.525 18.307 72.348 27.46 4.824 54.511-12.698 74.141-68.49 19.065-54.186 23.533-106.356 1.83-136.98-19.424-27.41-59.495-42.445-109.838-2.894-50.343 39.55-73.161 133.755-69.075 181.306 4.18 48.647 6.832 103.266 64.498 109.054 57.665 5.788 115.834-54.383 140.045-89.713 23.798-34.727 55.704-128.503 22.883-225.728C463.428 89.717 400.27 50.167 352.673 28.945c-47.596-21.223-158.35-47.268-238.9-7.718C33.503 60.641-4.304 115.763 1.188 221.874c5.565 107.523 85.216 169.712 85.216 169.712 93.37 82.301 170.625 137.376 178.324 114.582 5.574-16.502-11.554-35.796-31.807-75.981-45.738-90.752-116.037-236.955-32.192-318.283z" />
          </svg>

          <svg
            className="flex-none h-12 xl:h-16 fill-current"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 500 200"
          >
            <path d="M141.162 177.008c-17.186-8.564-21.924-19.777-21.924-51.882v-21.343h15.445v22.939c0 21.246.256 23.316 3.475 28.045 5.593 8.218 11.002 11.39 19.421 11.39 10 0 17.125-4.29 21.564-12.985 3.252-6.37 3.496-8.59 3.09-28.155l-.442-21.24h14.673l.034 21.238c.039 24.309 2.303 32.075 10.87 37.285 8.314 5.056 17.45 7.206 24.768 1.985 10.622-7.578 11.362-9.29 11.93-36.675l.495-23.832h15.558l-.553 23.554c-.518 22.033-.83 24.117-4.837 32.28-11.333 23.091-41.894 28.835-59.902 11.26l-5.498-5.366-3.769 4.092c-10.435 11.33-29.981 14.59-44.398 7.405zm147.166 1.192c-20.105-9.396-28.194-33.016-18.113-52.893 13.273-26.171 49.714-28.044 65.922-3.388 11.65 17.722 6.082 42.395-12.1 53.61-9.79 6.04-25.92 7.246-35.709 2.671zm28.513-15.478c6.23-4.558 9.659-10.32 10.48-17.614 1.522-13.5-7.383-24.204-21.245-25.536-17.933-1.723-31.012 16.06-24.055 32.709 2.222 5.32 10.185 12.35 15.609 13.784 5.106 1.35 15.198-.407 19.211-3.343zm31.315-5.267c.781-27.88 2.523-33.406 13.693-43.449 7.735-6.955 16.31-10.223 26.82-10.223h5.493v15.445h-7.364c-5.26 0-8.947 1.076-12.907 3.767-9.107 6.188-10.619 11.348-10.619 36.238v21.776H347.497zm52.185-30.505V72.892h14.672V181.01h-14.672zm44.018 50.371c-14.914-7.062-22.395-18.73-22.395-34.925 0-11.061 2.942-18.923 9.731-26.007 8.994-9.382 15.307-11.625 34.674-12.318l17.376-.622V72.892h14.673l-.773 41.318c-.857 45.858-.81 45.64-11.842 56.31-11.079 10.717-27.492 13.412-41.444 6.805zm29.842-15.952c7.209-5.382 9.544-12.19 9.544-27.83v-14.311h-15.65c-18.256 0-24.112 2.498-29.19 12.45-9.247 18.127 6.241 38.061 26.186 33.702 2.907-.636 7.007-2.44 9.11-4.011zM2.125 70.96c.477-22.296.917-25.812 3.94-31.496 15.033-28.254 55.87-27.266 69.349 1.679 3.315 7.12 3.637 9.886 3.651 31.362l.015 23.554H64.407V73.281c0-21.047-.268-23.21-3.533-28.46-2.127-3.42-4.532-6.535-8.678-8.542-9.539-4.618-16.346-4.74-27.177 2.662-9.201 8.638-7.176 18.982-7.44 32.298l-.492 24.827H1.588l.537-25.098zm109.733 22.92C92.076 87.432 81.12 66.21 86.89 45.517c2.644-9.48 14.868-22.097 24.031-24.805 22.33-6.597 44.8 5.718 50.002 27.403 6.895 28.743-21.122 54.876-49.066 45.766zm23.997-16.347c19.862-12.11 11.604-43.373-11.549-43.722-21.067-.318-32.234 22.964-18.51 38.594 2.628 2.993 6.206 6.02 7.951 6.728 5.909 2.393 16.86 1.6 22.108-1.6zm32.807-20.473v-39h13.901V96.06h-13.9zm27.802 31.276v-7.722h24.602c26.64 0 29.456-.814 29.456-8.518 0-6.903-4.955-8.472-26.748-8.472-22.634 0-26.408-1.291-31.798-10.883-4.274-7.604-4.18-16.617.24-23.112 6.962-10.23 8.366-10.634 38.615-11.124l27.418-.444-.003 7.336-.003 7.337H233.53c-22.653 0-24.97.257-27.801 3.089-1.7 1.699-3.09 4.131-3.09 5.406 0 1.274 1.39 3.706 3.09 5.405 2.766 2.767 5.148 3.09 22.806 3.09 23.83 0 28.543 1.77 34.098 12.804 4.531 9 3.526 17.543-2.929 24.894-6.273 7.146-13.158 8.637-39.868 8.637h-23.374v-7.723zm103.473 6.28c-24.1-7.331-35.531-34.116-23.777-55.712 7.166-13.167 18.76-19.983 33.826-19.886 10.037.065 16.005 2.9 25.15 10.147 7.803 6.637-3.155 15.82-14.102 26.62-14.458 14.263-21.163 21.913-20.354 23.22.832 1.347 4.039 1.747 10.354 1.29 8.057-.583 9.825-1.338 14.817-6.33l5.668-5.668 5.711 5.576 5.711 5.577-6.862 5.94c-10.045 8.693-25.187 12.558-36.142 9.226zm5.352-43.284c16.786-16.85 16.946-17.904 2.678-17.646-11.196.202-21.921 11.12-21.921 22.318 0 6.2 1.22 10.71 2.897 10.71.562 0 7.918-6.922 16.346-15.382zM382.293 63.6c-7.24-2.886-8.707-11.974-2.874-17.807 4.759-4.759 10.132-4.839 14.474-.216 8.25 8.78-.537 22.433-11.6 18.023zm9.442-5.491c4.665-4.665 1.981-11.474-4.523-11.474-9.331 0-9.06 13.613.276 13.854 1.001.026 2.912-1.045 4.247-2.38zm64.594 5.911c-1.37-.463-1.93-5.093-1.93-15.969 0-12.585.413-15.316 2.317-15.316 1.61 0 2.316 1.62 2.316 5.308 0 5.171.136 5.287 5.232 4.46 7.983-1.295 11.758 3.284 11.758 14.263 0 5.33-.585 8.224-1.544 7.631-.85-.525-1.545-3.392-1.545-6.37 0-7.305-2.445-11.392-6.816-11.392-4.974 0-6.804 2.727-7.372 10.989-.33 4.805-1.1 6.84-2.416 6.396zM400.341 51.27c0-10.297.514-12.871 3.089-15.445 3.632-3.632 9.267-4.102 9.267-.773 0 1.275-.993 2.317-2.207 2.317-2.845 0-7.06 4.216-7.06 7.06 0 1.423 1.647 2.207 4.633 2.207 3.09 0 4.634.773 4.634 2.317 0 1.545-1.545 2.317-4.634 2.317-4.376 0-4.633.343-4.633 6.178 0 3.398-.695 6.178-1.545 6.178-.9 0-1.544-5.148-1.544-12.356zm43.863 11.174c-3.324-2.22-4.758-7.463-5.064-18.51-.255-9.188.117-11.198 2.068-11.198 1.79 0 2.38 1.721 2.38 6.95 0 6.693.17 6.95 4.633 6.95 3.089 0 4.633.773 4.633 2.317 0 1.545-1.544 2.317-4.633 2.317-2.986 0-4.634.784-4.634 2.206 0 2.845 4.216 7.061 7.06 7.061 1.214 0 2.207.695 2.207 1.545 0 1.784-6.135 2.04-8.65.362zm37.463-1.642c-2.862-3.163-3.343-9.808-1.024-14.142 2.223-4.154 10.104-5.484 14.69-2.479 3.187 3.113-.6 5.515-2.756 8.512-5.462 7.591-6.95 9.594-.228 6.53 5.06-2.305 8.409-.563 4.463 2.322-4.077 2.981-12.132 2.586-15.145-.743zm6.226-8.257c4.292-4.032 4.544-5.909.794-5.909-3.558 0-6.487 2.929-6.487 6.487 0 3.644 1.343 3.508 5.693-.578z" />
          </svg>
        </Link>
        <button className="sm:hidden" onClick={() => setMenu(!menu)}>
          <svg
            className="w-8 mx-2"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
          >
            {menu ? (
              <path d="M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z" />
            ) : (
              <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" />
            )}
          </svg>
        </button>
      </div>

      {menu && (
        <nav className="mb-1 sm:hidden">
          <NavLink
            text="o mnie"
            href="/about"
            activeStyle="text-green-500 border-green-500"
            hoverBorder="hover:border-green-500"
            hoverText="hover:text-green-500"
          />
          <NavLink
            text="doświadczenie"
            href="/experience"
            activeStyle="text-red-500 border-red-500"
            hoverBorder="hover:border-red-500"
            hoverText="hover:text-red-500"
          />
          <NavLink
            text="sprzęt"
            href="/gear"
            activeStyle="text-yellow-500 border-yellow-500"
            hoverBorder="hover:border-yellow-500"
            hoverText="hover:text-yellow-500"
          />
          <NavLink
            text="kontakt"
            href="/contact"
            activeStyle="text-blue-500 border-blue-500"
            hoverBorder="hover:border-blue-500"
            hoverText="hover:text-blue-500"
          />
        </nav>
      )}
      <nav className="mr-2 xl:mr-4 hidden sm:flex items-center">
        <NavLink
          text="o mnie"
          href="/about"
          activeStyle="text-green-500 border-green-500"
          hoverBorder="hover:border-green-500"
          hoverText="hover:text-green-500"
        />
        <NavLink
          text="doświadczenie"
          href="/experience"
          activeStyle="text-red-500 border-red-500"
          hoverBorder="hover:border-red-500"
          hoverText="hover:text-red-500"
        />
        <NavLink
          text="sprzęt"
          href="/gear"
          activeStyle="text-yellow-500 border-yellow-500"
          hoverBorder="hover:border-yellow-500"
          hoverText="hover:text-yellow-500"
        />
        <NavLink
          text="kontakt"
          href="/contact"
          activeStyle="text-blue-500 border-blue-500"
          hoverBorder="hover:border-blue-500"
          hoverText="hover:text-blue-500"
        />
      </nav>
    </div>
  )
}

export default Header
